@{
    ViewData["Title"] = "Calendar";
    ViewBag.Title = "Calendar";
    Layout = "_Layout";
    var uploadSuccess = TempData["UploadSuccess"] as bool?;
}

<link rel="stylesheet" href="~/css/calendar.css" asp-append-version="true"/>

<h2>Upload Your Calendar</h2>
<p>Have a calendar in CSV format ready to go? Click the button below to visit our upload page, where you can easily integrate your events into our calendar system.</p>
<p>The upload process is quick and simple, allowing you to bring your important dates to life in just a few clicks. Ensure your file includes event details in the correct format for a seamless experience.</p>

<div class="text-start">
    <button onclick="window.location.href='@Url.Action("UploadCalendar", "Home")'" class="btn btn-primary">Upload Calendar</button>
</div>

<h2 class="mt-3">My Calendar</h2>
<p>View and interact with your calendar below. Use the navigation buttons to switch between months.</p>

<!-- Calendar Container -->
<div id="calendarContainer" class="container mt-1" style="display:none;">
    <div class="d-flex justify-content-between mb-2">
        <button id="prevMonthButton" class="btn btn-primary">Previous Month</button>

        <span id="monthLabel" class="d-flex align-items-center justify-content-center" style="font-size: 1.2em;"></span>

        <button id="nextMonthButton" class="btn btn-primary">Next Month</button>
    </div>

    <!-- Days of the week headers -->
    <div class="row text-center">
        <div class="col">Mon</div>
        <div class="col">Tue</div>
        <div class="col">Wed</div>
        <div class="col">Thu</div>
        <div class="col">Fri</div>
        <div class="col">Sat</div>
        <div class="col">Sun</div>
    </div>

    <!-- Calendar grid using Bootstrap row-cols-7 -->
    <div id="calendarGrid" class="row row-cols-7 g-0"></div>
</div>

@section Scripts
{
    <script src="~/js/calendar.js" asp-append-version="true"></script>
    @if (uploadSuccess == true)
    {
        <text>alert('File successfully updated!');</text>
    }
}
